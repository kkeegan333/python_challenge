import os
import csv

csvpath = os.path.join('Resources', 'budget_data.csv')

months = []
profit_loss = []
differences = []

total_months = 0
total_profit_loss = 0

with open(csvpath) as csvfile:
    csvreader = csv.reader(csvfile, delimiter=',')
    csv_header = next(csvreader)
    for row in csvreader:
        months.append(row[0])
        profit_loss.append(row[1])
    #count number of months
        total_months = str(len(months))
    #print Total months : 86
        
    #net profits
    profit_loss = [int(i) for i in profit_loss]
    #print total 22564198

    #total profit divided by months
    #error message for index out of range for profit loss[i+1]??
    for i in range(profit_loss):
        difference_bt_months = [profit_loss[i+1]-profit_loss[i] for i in range(len(profit_loss))]
        average_change = sum(difference_bt_months) / (len(total_months))
    
    #list of changes month over month
        
    greatest_increase = max(difference_bt_months)
    greatest_decrease = min(difference_bt_months)

    highest_month_index = profit_loss.index(greatest_increase)
    lowest_month_index = profit_loss.index(greatest_decrease)

#print("Average Change: " + str(average_change))

print("Total: " + str(total_profit_loss))
print("Total Months: " + (str(total_months)))
print("Average: " + (str(average_change)))
print("Greatest Increase " + (str(highest_month_index) + "  "+ "$" + (str(greatest_increase))))
print("Greatest Decrease " + (str(lowest_month_index) + "  "+ "$" + (str(greatest_decrease))))  
        


    

    

